<UserControl x:Class="Hotel_3.WPF.Views.ClientView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:md="http://materialdesigninxaml.net/winfx/xaml/themes"
             Loaded="ClientView_OnLoaded">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <StackPanel Grid.Row="0">
            <!-- Title & Buttons -->
            <StackPanel  
                Orientation="Horizontal">
                <TextBlock Text="Клиенты"
                           Margin="15"
                           Style="{StaticResource MaterialDesignHeadlineSmallTextBlock}"/>
                <Button Content="Добавить"
                        Command="{Binding AddClientCommand}"
                        Margin = "15 0"/>
                <Button Content="Обновить"
                        Command="{Binding UpdateClientCommand}"
                        Background="#FEB308"
                        BorderBrush="#FEB308"
                        Margin = "15 0"/>
                <CheckBox Style="{StaticResource MaterialDesignFilterChipCheckBox}"
                          Content="Фильтры"
                          IsChecked="{Binding IsFiltersChecked}"
                    />
            </StackPanel>
            
            <!-- Filters -->
            <StackPanel Visibility="{Binding FiltersVisibility}"
                        Margin="15">
                <TextBox Text="{Binding LastNameFilterText, UpdateSourceTrigger=PropertyChanged}"
                         Style="{StaticResource MaterialDesignOutlinedTextBox}"
                         md:HintAssist.Hint="Фамилия"
                    />
            </StackPanel>
        </StackPanel>

        <DataGrid Grid.Row="1"
                  ItemsSource="{Binding ClientsView}"
                  Style="{StaticResource MaterialDesignDataGrid}"
                  IsReadOnly="True"
                  SelectedItem="{Binding SelectedItem}"
                  AutoGenerateColumns="False">
            <DataGrid.Columns>
                <DataGridTextColumn Header="Фамилия" Binding="{Binding LastName}"/>
                <DataGridTextColumn Header="Имя" Binding="{Binding FirstName}"/>
                <DataGridTextColumn Header="Отчество" Binding="{Binding MiddleName}"/>
                <DataGridTextColumn Header="Создан" Binding="{Binding CreatedAt, StringFormat=dd.MM.yyyy | HH:mm}"/>
            </DataGrid.Columns>
        </DataGrid>
    </Grid>
</UserControl>
